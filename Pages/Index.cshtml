@page
@model IndexModel
@{
ViewData["Title"] = "Empleados";
}


<div class="card mt-5">
    <div class="card-header text-center">
        Consultar nómina por número de documento
    </div>
    <div class="card-body">
        <form action="Nomina" method="get">
            <div class="input-group mb-3">
                <input required type="number" class="form-control" placeholder="Ingrese el numero de documento"
                    name="documento">
                <button class="btn btn-outline-secondary" type="submit">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </button>
            </div>
        </form>
    </div>
</div>

<div class="card mt-5">
    <div class="card-header text-center">
        Seleccione el Empleado para ver los detalles de nómina
    </div>
    <div class="card-body">
    @if(Model.Empleados.Count() > 0 )
    {   
        <table id="tblEmpleados" class="table table-striped table-bordered" style="width: 100%">
            <thead>
                <tr>
                    <th class="text-center" scope="col">DOCUMENTO</th>
                    <th class="text-center" scope="col">NOMBRES</th>
                    <th class="text-center" scope="col">APELLIDOS</th>
                    <th class="text-center">
                        Acciones
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach(var empleado in Model.Empleados)
                {
                <tr>
                    <th cope="row">@Html.DisplayFor(m => empleado.DOCUMENTO)</th>
                    <td>@Html.DisplayFor(m => empleado.NOMBRES)</td>
                    <td>@Html.DisplayFor(m => empleado.APELLIDOS)</td>
                    <td class="text-center">
                        <a class="btn btn-success" asp-page="/Nomina/Index" asp-route-documento="@empleado.DOCUMENTO">
                            <i class="fa-solid fa-folder-open"></i> Detalle</a>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    }
    else
    {
    <p class="text-center">No hay solicitudes de nomina de empleados</p>
    }
    </div>
</div>

